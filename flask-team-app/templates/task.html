<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Task • {{ task.title }}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <div class="container">
    {% include "_nav.html" %}

    <div class="subnavRow">
      <a class="pill ghost" href="{{ url_for('home_page') }}">← Back to Dashboard</a>
    </div>

    <div class="card">
      <div class="cardHeader">
        <div>
          <div style="font-weight:800; font-size:18px;">{{ task.title }}</div>
          <div class="taskMeta" style="margin-top:6px;">
            {% if task.due_date %}
              <span class="metaPill">Due: {{ task.due_date }}</span>
            {% else %}
              <span class="metaPill muted">No due date</span>
            {% endif %}
          </div>
        </div>
        {% if task.status == "complete" %}
          <span class="badge complete">Complete</span>
        {% else %}
          <span class="badge incomplete">Incomplete</span>
        {% endif %}
      </div>

      <div class="cardBody">
        <div class="taskDetail">
          <div class="label">Notes</div>
          {% if task.memo %}
            <div class="detailText">{{ task.memo }}</div>
          {% else %}
            <div class="detailText muted"><em>No notes.</em></div>
          {% endif %}
        </div>

        <div class="actionRow">
          <form method="POST" action="/tasks/{{ task.id }}/toggle" style="margin:0;">
            <button class="pill" type="submit" style="border:none;">Toggle Status</button>
          </form>

          <form method="POST" action="/tasks/{{ task.id }}/delete" style="margin:0;" onsubmit="return confirm('Delete this task?');">
            <button class="pill danger" type="submit" style="border:none;">Delete</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
